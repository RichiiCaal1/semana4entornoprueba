"use strict";var andrewrossco=andrewrossco||{};!function(r,n){r(function(){n.App.init(),n.Viewport.init(),n.Modal.init(),n.Scroller.init(),n.Carousel.init()}),n.App={userAgent:void 0,$html:void 0,init:function(){n.Features=n.Features||{},this.userAgent=navigator.userAgent.toLowerCase(),this.$html=r("html"),this.noTouch(),this.isTouch(),this.isNewIE(),this.isIE(),r("body").addClass("page-loaded");var t=r(".site-header"),e=(t.offset().top,r(window));r(document).scroll(function(){50<e.scrollTop()?t.hasClass("is-sticky")||t.addClass("is-sticky"):t.hasClass("is-sticky")&&t.removeClass("is-sticky")});var i=0;r(window).scroll(function(e){var a=r(this).scrollTop();i<a?t.hasClass("scrolling-up")&&t.removeClass("scrolling-up"):t.hasClass("scrolling-up")||t.addClass("scrolling-up"),i=a});var a=r(".mobile-menu-trigger"),s=r(".screen");r(".mobile-menu-trigger, .screen").click(function(){r("body").hasClass("menu-is-active")?(a.removeClass("is-active"),s.fadeOut(300),r("body").removeClass("menu-is-active")):(s.fadeIn(300),a.addClass("is-active"),r("body").addClass("menu-is-active"))})},noTouch:function(){if(!("ontouchstart"in window))return n.Features.noTouch=!1,void this.$html.addClass("noTouch");n.Features.noTouch=!1},isTouch:function(){if("ontouchstart"in window)return n.Features.isTouch=!1,void this.$html.addClass("isTouch");n.Features.isTouch=!1},isNewIE:function(){document.documentMode||/Edge/.test(navigator.userAgent)?-1===navigator.appVersion.indexOf("Trident")?this.$html.addClass("isEDGE"):this.$html.addClass("isIE isIE11"):n.Features.isNewIE=!1},isIE:function(){if(-1!==navigator.appVersion.indexOf("MSIE"))return this.$html.addClass("isIE"),void(n.Features.isIE=!0);n.Features.isIE=!1}},n.Viewport={init:function(){r.fn.isOnScreen=function(){var e=r(this).offset().top,a=e+r(this).outerHeight(),t=r(window).scrollTop(),i=t+r(window).height();return t<a&&e<i};var i=document.querySelectorAll("*[data-animate-in], *[data-detect-viewport]"),e=r(".draw-in path");function s(e){var a,t=!1;e.hasClass("draw-in")&&(t=!0,a=e.find("path")),e.isOnScreen()?e.hasClass("in-view")||(e.addClass("in-view"),1==t&&TweenLite.to(a,1,{drawSVG:"100%"})):e.hasClass("in-view")&&(e.removeClass("in-view"),e.hasClass("draw-in")&&1==t&&TweenLite.to(a,1,{drawSVG:"0"}))}TweenLite.to(e,0,{drawSVG:"0"}),r(window).on("resize scroll",function(){for(var e=0;e<i.length;e++)s(r(i[e]))}),r(document).ready(function(){for(var e=0;e<i.length;e++){var a=0,t=r(i[e]),a=i[e].getAttribute("data-animate-in-delay")?i[e].getAttribute("data-animate-in-delay")/1e3+"s":0;t.css("transition-delay",a),s(t)}})}},n.Modal={init:function(){r(".meal")&&this.bind()},bind:function(){r(document).ready(function(){var a,e=r(".meal-preview");r(".meal");e.click(function(e){e.preventDefault(),a=r(this).attr("data-meal"),(a=r("#"+a))&&(a.addClass("is-active"),r("body").addClass("modal-is-active"))})});r(".meal");var a,t,e=r(".modal__close"),i=r(".js-modal-change");e.click(function(e){e.preventDefault(),r(this).parents(".meal").removeClass("is-active"),r("body").removeClass("modal-is-active")}),i.click(function(e){e.preventDefault(),t=r(this).attr("data-meal"),a=r(this).parents(".meal"),t=r("#"+t),a.addClass("drop-back"),t?(t.addClass("is-active"),r("body").addClass("modal-is-active")):r("body").removeClass("modal-is-active"),setTimeout(function(){a.removeClass("is-active")},600),setTimeout(function(){a.removeClass("drop-back")},1200)})}},n.Scroller={init:function(){document.getElementById("slider")&&this.bind()},bind:function(){var e=document.getElementById("slider"),a=new TimelineMax({repeat:-1}),t=(window.innerWidth,e.children[0]);e.appendChild(t.cloneNode(!0)),e.appendChild(t.cloneNode(!0)),a.to(e,80,{ease:Power0.easeNone,xPercent:-66.66666}).to(e,0,{ease:Power0.easeNone,x:0}),e.addEventListener("mouseover",function(){a.pause()},!1),e.addEventListener("mouseout",function(){a.resume()},!1)}},n.Carousel={init:function(){r(".carousel")&&this.bind()},bind:function(){r(".carousel").each(function(){var e=r(this),a=e.attr("data-speed"),t=e.find("li:first");setInterval(function(){e.find(".is-active").removeClass().next().add(t).last().addClass("is-active")},a)});var e=r("g.days > *:first-child"),a=r("g.days > *"),t=r("g.days > *:last-child");setInterval(function(){t.hasClass("is-active")?a.removeClass("is-active"):r("g.days > .is-active:last").addClass("is-active").next().add(e).addClass("is-active")},1e3);var i=r(".ex"),s=r("#check-group");setInterval(function(){var e=Math.floor(Math.random()*i.length+1);s.find(".ex:nth-child("+e+")").addClass("asfsaf").fadeToggle(300)},2e3);var n=document.getElementById("icon-plates"),o=r("#icon-plates span"),d=new TimelineMax({repeat:-1});o.each(function(){var e=r(this),a=e.attr("data-x"),t=e.attr("data-y"),i=new TimelineMax({repeat:-1});i.add(TweenMax.to(e,1,{delay:2,width:"28px",height:"28px",x:a,y:t,ease:Power4.easeOut})),i.add(TweenMax.to(e,1,{delay:2,width:"54px",height:"54px",x:"0%",y:"0%",ease:Power4.easeOut}))}),d.add(TweenMax.to(n,1,{delay:2,width:"120px",height:"120px",ease:Power4.easeOut})),d.add(TweenMax.to(n,1,{delay:2,width:"80px",height:"80px",ease:Power4.easeOut}))}}}(jQuery,andrewrossco);
//# sourceMappingURL=application.js.map
